# Project Documentation

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É Promo Code Manager.

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### Backend

#### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [Database Setup](./database-setup.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö (MongoDB, ClickHouse, Redis)
  - Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - Mongoose setup –¥–ª—è MongoDB
  - ClickHouse –º–æ–¥—É–ª—å –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é

- [ClickHouse Guide](./clickhouse-guide.md) - –†–∞–±–æ—Ç–∞ —Å ClickHouse
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ë–î
  - SQL-–∑–∞–ø—Ä–æ—Å—ã –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
  - –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

- [Mongoose Architecture](./mongoose-architecture.md) - Production-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Mongoose
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π
  - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ —Å—Ö–µ–º—ã
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

#### Event-Driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [Event Bus & Queue System](./event-bus-queue-clickhouse.md) - Event-Driven —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - Redis/BullMQ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - Consumers –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ ClickHouse
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –º–µ—Ö–∞–Ω–∏–∑–º

### Frontend

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [Frontend Architecture (FSD)](./frontend-architecture.md) - Feature-Sliced Design
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–æ—ë–≤ (app, shared, entities, features, widgets, pages, processes)
  - –ü—Ä–∞–≤–∏–ª–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

#### –ö–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- [–ö–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Orval](./frontend-orval-codegen.md) - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TypeScript —Ç–∏–ø–æ–≤ –∏ React Query hooks
  - –°–∫–≤–æ–∑–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è DTO –æ—Ç backend –¥–æ frontend
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Swagger/OpenAPI

- [TypeScript –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è](./frontend-typescript.md) - –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  - –°–∫–≤–æ–∑–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –æ—Ç API –¥–æ UI
  - Type guards –∏ —É—Ç–∏–ª–∏—Ç—ã
  - Path aliases

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- [TanStack Query](./frontend-tanstack-query.md) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Orval

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ Interceptors](./frontend-error-handling.md) - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  - Request/Response interceptors
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh token
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](./frontend-performance.md) - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–æ–≤
  - React.memo –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
  - useMemo –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
  - useCallback –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
  - –ü—Ä–∏–º–µ—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

#### –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å Hooks](./frontend-hooks-patterns.md) - –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
  - –•—É–∫–∏ —Ñ–æ—Ä–º (Form Hooks)
  - –•—É–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Data Hooks)
  - –•—É–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (State Hooks)
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Frontend](./frontend-testing.md) - Unit —Ç–µ—Å—Ç—ã
  - Vitest –∏ React Testing Library
  - –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (162 —Ç–µ—Å—Ç–∞)
  - –¢–µ—Å—Ç—ã —Å—Ö–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ö—É–∫–æ–≤ —Ñ–æ—Ä–º, —Ö—É–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
  - –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–º–∞–Ω–¥—ã

### –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [CHANGELOG](./CHANGELOG.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞
- [–ó–∞–¥–∞–Ω–∏–µ](./task/TEST_TASK_PROMO_CODE_MANAGER_v2.1.md) - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

```bash
cd project/backend
docker-compose up -d
```

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB —á–µ—Ä–µ–∑ Compass

1. –û—Ç–∫—Ä–æ–π—Ç–µ MongoDB Compass
2. –í—Å—Ç–∞–≤—å—Ç–µ connection string:
   ```
   mongodb://admin:admin123@localhost:27017/promo_code_manager?authSource=admin
   ```
3. –ù–∞–∂–º–∏—Ç–µ "Connect"

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env`:

```bash
cd project/backend
cp env.example .env
```

### 4. –ó–∞–ø—É—Å–∫ Backend

```bash
cd project/backend
pnpm install
pnpm start:dev
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000`
Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://localhost:3000/docs`

### 5. –ó–∞–ø—É—Å–∫ Frontend

```bash
cd project/frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm install

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ Swagger (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–π backend)
pnpm run generate:api

# –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞
pnpm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173`

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Å–Ω–æ–≤–Ω–æ–π README](../README.md) - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- [Backend README](../backend/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ backend
- [Frontend README](../frontend/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ frontend
